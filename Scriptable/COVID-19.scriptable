{
  â€œalways_run_in_appâ€ : false,
  â€œiconâ€ : {
    â€œcolorâ€ : â€œorangeâ€,
    â€œglyphâ€ : â€œplus-circleâ€
  },
  â€œnameâ€ : â€œCOVID-19â€,
  â€œscriptâ€ : â€œ\/\/ Author: Pih\n\/\/ Update: 2022.01.11\n\n\/\/ä¸»é¢˜é¢œè‰²è®¾ç½®\nconst themes = {\n  light: {\n    background: new Color(â€˜#ffffffâ€™),\/\/æ˜äº®èƒŒæ™¯\n  },\n  dark: {\n    background: new Color(â€˜#282828â€™, 1),\/\/æš—é»‘èƒŒæ™¯\n  }\n};\n\n\/\/æ–‡å­—é¢œè‰²è®¾ç½®ï¼ˆé¢œè‰²ä»£ç ,é€æ˜åº¦ï¼‰\ntextColor1 = new Color(â€˜#228B22â€™, 1)\/\/æ–°å† è‚ºç‚\ntextColor2 = new Color(â€˜#FFA500â€™, 1)\/\/æ–°å¢ç¡®è¯Š\ntextColor3 = new Color(â€˜#32CD32â€™, 0.9)\/\/çœä»½åç§°\ntextColor4 = new Color(â€˜#FF4500â€™, 0.9)\/\/æ–°å¢TOP\ntextColor5 = new Color(â€˜#888888â€™, 1)\/\/çƒ­ç‚¹è¯é¢˜\n\n\/\/å®šä¹‰ä¸»é¢˜åç§°\nconst conf = {\n  client: â€˜h5â€™,\n  theme: â€˜systemâ€™\n};\n\n\/\/ =========================================\n\nconst innerColor = new Color(\â€FFA500\â€, 1)\nconst outerColor = new Color(\â€FF0000\â€, 0.8)\n\nconst webview = new WebView();\nawait webview.loadURL(\â€https:\/\/i.snssdk.com\/forum\/ncov_data\/?data_type=%5B2%2C4%2C8%5D\â€);\n\nvar getData = `\n  function runit() {\n    const ord = document.querySelector(â€˜*â€™).innerText;\nconst data = eval(\â€(\â€+ord+\â€)\â€);\nconst nationwide = eval(\â€(\â€+data.ncov_nation_data+\â€)\â€).nationwide\nconst Top10 = eval(\â€(\â€+data.ncov_nation_data+\â€)\â€).confirmedIncrProvinceTop10\nconst description = eval(\â€(\â€+data.ncov_nation_data+\â€)\â€).incrTips\nconst outputdata = {\â€Top10\â€:Top10,\â€description\â€:description,\â€nationwide\â€:nationwide}\n\n    completion (outputdata);\n  }\n\n  runit();\n`\n\nlet TodayIncr = await webview.evaluateJavaScript(getData, true);\n\/\/ console.log(response)\n\/\/ log (typeof response)\n\/\/ ======== End ========\n\nlog(TodayIncr.nationwide[0])\nconst data = TodayIncr.nationwide\n\nconst covidnews = (await new Request(\â€https:\/\/opendata.baidu.com\/data\/inner?tn=reserved_all_res_tn&dspName=iphone&from_sf=1&dsp=iphone&resource_id=28565&alr=1&query=%E5%9B%BD%E5%86%85%E6%96%B0%E5%9E%8B%E8%82%BA%E7%82%8E%E6%9C%80%E6%96%B0%E5%8A%A8%E6%80%81\â€).loadJSON()).Result[0].items_v2[0].aladdin_res.DisplayData.result.items\n\/\/ .loadString()).slice(17,-29)).docs\n\/\/ log(covidnews)\nconst chartDrawing = new DrawContext()\nchartDrawing.size = new Size(642, 221)\nchartDrawing.opaque=false\nchartDrawing.respectScreenScale=true\n\n\/\/ ######\nfillRect(20, 110, 590, 2, 0, new Color(\â€808080\â€, 0.2)) \/\/æ¨ªæ \n\n\/\/ fillRect(0, 110, 680, 120, 0, new Color(\â€dddddd\â€, 0.1))\n\ndrawText(12, 5, 80, 80, \â€ğŸ¦ \â€, Color.white(), \â€a\â€, 40, \â€center\â€)\n\n\nvar max;\n\tfor(i = 0; i<30 ;i++)\n  {\n\tlet\ttemp = data[i].confirmedIncr;\n\t\tmax = (temp > max || max == undefined ? temp : max)\n\t}\nlog(max)\n\/\/ log(data.incTrend[data.incTrend.length-1].sure_cnt)\n\/\/ log(data.incTrend[data.incTrend.length-30].sure_cnt)\nconst deltaY = 50\/max\nfor(i = 0; i<30 ;i++)\n{\nlet\ttemp = data[29-i].confirmedIncr*deltaY \nlet width = 8,color = Color.green()\nif (i==29)\n{\ncolor = new Color(\â€cf4442\â€,1)}\n\nfillRect(40+i*13.5, 100-temp, width, temp, 4, color)\n}\n\ndrawText(78, 15, 300, 60, \â€COVID-19\â€, textColor1, \â€a\â€,24, \â€left\â€)\n\n\/\/ drawText(330, 30, 120, 60, \â€30å¤©è¶‹åŠ¿å›¾\â€, textColor5, \â€a\â€,16, \â€left\â€)\nlog(data[0].date.slice(-2))\n\n\n\/\/ drawText(30, 108, 572, 20, TodayIncr.description,Color.white(), \â€a\â€, 12, \â€center\â€)\n\n\n\/\/ ######\ndrawText(430, 18, 190, 60, data[0].date.slice(-2)+\â€æ—¥æ–°å¢ç¡®è¯Š\â€, textColor2, \â€a\â€,22, \â€center\â€)\n\nlet fontSize = 47\nif (Math.round(data[0].confirmedIncr) > 999)\n{fontSize = 40}\ndrawText(430, 52, 190, 60, \â€+\â€+Math.round(data[0].confirmedIncr).toString(), new Color(\â€#FF0000\â€,0.8), \â€a\â€,fontSize, \â€center\â€)\n\/\/ fillRect(0, 111, 642, 110, 0, new Color(\â€121a2a\â€,0.4))\n\n\n\/\/ {\n\/\/ fillRect(30+i*10, 219, 6, 2, 0, Color.gray())\n\/\/ }\n\nvar IncrMax;\n\tfor(i = 0; i<(TodayIncr.Top10.length) ;i++)\n  {\nif(TodayIncr.Top10[i].inboundIncr == undefined)\n{TodayIncr.Top10[i].inboundIncr = 0}\nlet\ttemp = \nTodayIncr.Top10[i].confirmedIncr\n\/\/ log(\â€æ¯é¡¹å€¼\â€+temp)\n\tIncrMax = (temp > IncrMax || IncrMax == undefined ? temp : IncrMax)\n\t}\nconst incrDelta = 42\/IncrMax\nlet gap = (425\/TodayIncr.Top10.length)\n\/\/ log (\â€é•¿åº¦:\â€+ TodayIncr.length+\â€ï¼Œgap:\â€+ gap)\n\nfor(i = 0; i<(TodayIncr.Top10.length) ;i++)\n{\nlet\ttotalTemp = \n(TodayIncr.Top10[i].confirmedIncr)*incrDelta\nfillRect(37+i*gap, 174-totalTemp, 21, totalTemp, 0, innerColor)\nlet\ttemp = \n(TodayIncr.Top10[i].inboundIncr)*incrDelta\nfillRect(37+i*gap, 174-temp, 21, temp, 0, outerColor)\nlet inboundIncr = TodayIncr.Top10[i].inboundIncr\nif(inboundIncr==0)\n{inboundIncr=\â€\â€}\ndrawText(25+i*gap, 175, 45, 20, inboundIncr.toString(), outerColor, \â€a\â€,14, \â€center\â€)\/\/å¢ƒå¤–è¾“å…¥æ•°\nlet increasedNum = TodayIncr.Top10[i].confirmedIncr- TodayIncr.Top10[i].inboundIncr\nif(increasedNum== 0)\n{increasedNum=\â€\â€}\ndrawText(25+i*gap, 158-totalTemp, 45, 20, increasedNum.toString(), innerColor, \â€a\â€,14, \â€center\â€)\/\/æœ¬åœŸæ–°å¢æ•°\ndrawText(25+i*gap, 195, 45, 20, TodayIncr.Top10[i].name, textColor3, \â€a\â€,14, \â€center\â€)\/\/çœä»½åç§°\n}\n\n\n  \nfillRect(\n\/\/ 460-((10-TodayIncr.length)*43)\n490, 155, 80, 20, 0, innerColor)\ndrawText(\n\/\/ 515-((10-TodayIncr.length)*43), \n490,157, 80, 30, \â€æœ¬åœŸæ–°å¢\â€, new Color(\â€ffffff\â€,0.7), \â€a\â€,14, \â€center\â€)\nfillRect(\n\/\/ 460-((10-TodayIncr.length)*43)\n490, 180, 80, 20, 0, outerColor)\ndrawText(\n\/\/ 515-((10-TodayIncr.length)*43)\n490, 182, 80, 30, \â€å¢ƒå¤–è¾“å…¥\â€, new Color(\â€ffffff\â€,0.7), \â€a\â€,14, \â€center\â€)\ndrawText(485, 130, 190, 60, \â€æ–°å¢Top 10\â€, textColor5, \â€a\â€,16, \â€left\â€)\nconst widget = new ListWidget()\nwidget.setPadding(0, 0, 0, 0)\n\nconst scale = Device.screenScale()\nconst width = getWidgetSize().w\nconst height = getWidgetSize().h\n\/\/ log (width)\nconst contentStack = widget.addStack()\ncontentStack.layoutVertically()\ncontentStack.size = new Size(width\/scale, height\/scale)\nconst InfoStack = contentStack.addStack()\nInfoStack.size = new Size(width\/scale, (221\/296)*height\/scale)\nInfoStack.addImage(chartDrawing.getImage())\nconst newsStack = contentStack.addStack()\/\/ \n\/\/newsStack.backgroundColor = new Color(\â€333333\â€, 0.08)\n\/\/ new Color(\â€121a2a\â€, 1)\nnewsStack.layoutVertically()\nnewsStack.size = new Size(width\/scale, (75\/296)*height\/scale)\nnewsStack.setPadding(5, 15, 5, 15)\n\/\/ ##################\n\/\/ let now = currentDate()\nlet time1 = new Date(covidnews[0].eventTime*1000)\n\/\/ covidnews[0].eventTime\nlet df = new DateFormatter()\ndf.dateFormat = \â€MM\/dd HH:mm\â€\n\nconst news1 = newsStack.addText(df.string(time1)+\â€ \â€ + covidnews[0].eventDescription)\n  news1.font = Font.systemFont(10)\n  news1.textColor = textColor5\n  news1.url = covidnews[0].eventUrl\n\n  newsStack.addSpacer(5)\n\/\/   \n\/\/   \nlet time2 = new Date(covidnews[1].eventTime*1000)\n\n    const news2 = newsStack.addText(df.string(time2)+\â€ \â€ + covidnews[1].eventDescription)\n  news2.font = Font.systemFont(10)\n  news2.textColor = textColor5\n  news2.url = covidnews[1].eventUrl\n  \n\/\/ ##################\n\n\/\/å®šä¹‰èƒŒæ™¯é¢œè‰²\nwidget.backgroundColor = conf.theme === â€˜systemâ€™\n    ? Color.dynamic(themes.light.background, themes.dark.background)\n    : themes[conf.theme].background;\n\nScript.setWidget(widget)\nwidget.presentMedium()\nScript.complete()\n\n\nfunction fillRect (x,y,width,height,cornerradio,color)\n{\nlet path = new Path()\nlet rect = new Rect(x, y, width, height)\npath.addRoundedRect(rect, cornerradio, cornerradio)\nchartDrawing.addPath(path)\nchartDrawing.setFillColor(color)\nchartDrawing.fillPath()\n}\n\nfunction drawText(x, y, width,height,text,color,font,fontsize,alignment)\n  {\n    if (font==\â€a\â€){\nchartDrawing.setFont(Font.boldRoundedSystemFont(fontsize))}\nif (font==\â€default\â€){\nchartDrawing.setFont(Font.lightMonospacedSystemFont(fontsize))}\nif (font==\â€semibold\â€){\nchartDrawing.setFont(Font.semiboldSystemFont(fontsize))}\n  chartDrawing.setTextColor(color)\n  if(alignment == \â€left\â€)\n  {chartDrawing.setTextAlignedLeft()}\n  if(alignment == \â€center\â€)\n  {chartDrawing.setTextAlignedCenter()}\n  if(alignment == \â€right\â€)\n  {chartDrawing.setTextAlignedRight()}\n  chartDrawing.drawTextInRect(text, new Rect(x, y, width, height))\n}\n\nfunction Addblur (Img)\n{\n  const drawing = new DrawContext()\n  drawing.size = Img.size\n  const rect = new Rect(0, 0, drawing.size.width, drawing.size.height)\n  drawing.drawImageInRect(Img, rect)\n  drawing.setFillColor(new Color(\â€000000\â€, 0.02))\n  drawing.fillRect(rect)\n\n  let blurImg = drawing.getImage()\nreturn blurImg\n}\n\nfunction getWidgetSize ()\n{\nlet deviceSize = (Device.screenSize().height*scale).toString()\nlet deviceInfo = \n  {  \â€2778\â€: {\n    \â€models\â€  : [\â€12 Pro Max\â€],\n    \â€small\â€   : { \â€w\â€: 510,   \â€h\â€:  510 },\n    \â€medium\â€  : { \â€w\â€: 1092,  \â€h\â€: 510 },\n    \â€large\â€   : { \â€w\â€: 1092,  \â€h\â€: 1146}\n  },\n\n  \â€2532\â€: {\n    \â€models\â€  : [\â€12\â€, \â€12 Pro\â€],\n    \â€small\â€   : {\â€w\â€: 474,  \â€h\â€: 474 },\n    \â€medium\â€  : {\â€w\â€: 1014, \â€h\â€: 474 },\n    \â€large\â€   : {\â€w\â€: 1014, \â€h\â€: 1062 }\n  },\n   \n  \â€2688\â€: {\n    \â€models\â€  : [\â€Xs Max\â€, \â€11 Pro Max\â€],\n    \â€small\â€   : {\â€w\â€: 507,  \â€h\â€: 507},\n    \â€medium\â€  : {\â€w\â€: 1080, \â€h\â€: 507},\n    \â€large\â€   : {\â€w\â€: 1080, \â€h\â€: 1137}\n  },\n  \n  \â€1792\â€: {\n    \â€models\â€  : [\â€11\â€, \â€Xr\â€],\n    \â€small\â€   : {\â€w\â€: 338, \â€h\â€: 338},\n    \â€medium\â€  : {\â€w\â€: 720, \â€h\â€: 338},\n    \â€large\â€   : {\â€w\â€: 720, \â€h\â€: 758}\n  },\n  \n  \â€2436\â€: {\n    \â€models\â€  : [\â€X\â€, \â€Xs\â€, \â€11 Pro\â€],\n    \â€small\â€   : {\â€w\â€: 465, \â€h\â€: 465},\n    \â€medium\â€  : {\â€w\â€: 987, \â€h\â€: 465},\n    \â€large\â€   : {\â€w\â€: 987, \â€h\â€: 1035}\n  },\n  \n  \â€2208\â€: {\n    \â€models\â€  : [\â€6+\â€, \â€6s+\â€, \â€7+\â€, \â€8+\â€],\n    \â€small\â€   : {\â€w\â€: 471, \â€h\â€: 471},\n    \â€medium\â€  : {\â€w\â€: 1044, \â€h\â€: 471},\n    \â€large\â€   : {\â€w\â€: 1044, \â€h\â€: 1071}\n  },\n  \n  \â€1334\â€: {\n    \â€models\â€  : [\â€6\â€,\â€6s\â€,\â€7\â€,\â€8\â€],\n    \â€small\â€   : {\â€w\â€: 296, \â€h\â€: 296},\n    \â€medium\â€  : {\â€w\â€: 642, \â€h\â€: 296},\n    \â€large\â€   : {\â€w\â€: 642, \â€h\â€: 648}\n  },\n\n  \â€1136\â€: {\n    \â€models\â€  : [\â€5\â€,\â€5s\â€,\â€5c\â€,\â€SE\â€],\n    \â€small\â€   : {\â€w\â€: 282, \â€h\â€: 282},\n    \â€medium\â€  : {\â€w\â€: 584, \â€h\â€: 282},\n    \â€large\â€   : {\â€w\â€: 584, \â€h\â€: 622}\n  }\n}\n\nlet widgetSize = deviceInfo[deviceSize].medium\nreturn widgetSize\n\/\/ \n}\nâ€,
  â€œshare_sheet_inputsâ€ : [

  ]
}